WindowManager:
	FirstWindow:
	SecondWindow:
<ItemDrawer>:
    theme_text_color: "Custom"
    on_release: self.parent.set_color_item(self)

    IconLeftWidget:
        id: icon
        icon: root.icon
        text_color: root.text_color






<ContentNavigationDrawer>:
    orientation: "vertical"
    padding: "8dp"
    spacing: "8dp"

    AnchorLayout:
        anchor_x: "left"
        pos_hint:{"center_y":.1,"center_x":.5}
        size_hint_y: None
        height: avatar.height

        Image:
            id: avatar
            size_hint: None, None
            size: "56dp", "56dp"
            source: "data/logo/kivy-icon-256.png"
    MDLabel:
        text: "You Tube Video Downloader "
        font_style: "Button"
        adaptive_height: True
    
    MDList:
        id: container
        
        OneLineListItem:
            text:"Dark Theam"
            on_release:root.switchActive()
            MDSwitch:
                id:darkSwitch
                pos_hint:{"center_x":.9,"center_y":.5}
                active:root.switchCheaking
                on_active:app.switch_click(self,self.active)

        ScrollView:

<FirstWindow>:
	name: "first"
    
    MDScreen:

        MDNavigationLayout: 

            ScreenManager:
            

                MDScreen:
                    
                    MDLabel:
                        id:errorText
                        pos_hint:{"center_y":.7,"center_x":.5}
                        halign:"center"
                    MDTextField:
                        id :urlInput
                        hint_text: "url"
                        size_hint:None,None
                        width:300
                        pos_hint:{"center_x":.5,"center_y":.5} 
                                  
                    MDFillRoundFlatButton:
                        id :submit
                        text:"submit"
                        pos_hint:{"center_x":.5,"center_y":.4}
                        on_release:
                            root.submit()
                            #if root.checkingUrl == True:\
                            app.current = "second"
                            root.manager.transition.direction = "left"



                    MDBoxLayout:
                        orientation: 'vertical'
                        

                        MDToolbar:
                            title: "YouTube Video Downloader"
                            elevation: 10
                            md_bg_color: .2,.2,.2,1
                            left_action_items: [['menu', lambda x: nav_drawer.set_state("open")]]

                        Widget:


            MDNavigationDrawer:
                id: nav_drawer

                ContentNavigationDrawer:
                    id: content_drawer


<SecondWindow>:
	name: "second"
    MDScreen:
        MDNavigationLayout: 
            ScreenManager:
                MDScreen:
                    SmartTileWithLabel:
                        id :thumbnail_url
                        source:root.thumbnail_url
                        size_hint:None,None
                        width: "300dp"
                        height: "200dp"
                        opacity:1.5
                        #{“x”:1, “y”:1, “left”:1, “right”:1, "center_x":1,"center_y":1, "top”:1, “bottom”:1("top":0)}
                        pos_hint:{"center_y":.65,"center_x":.5}
                        
                        text: f"[i][size=20][color=#999999]{root.title}[/color][/size]\n[size=14][color=#999999]{root.time}[/color][/size]"
                        
                        
                    
                    
                   
                    MDList:
                        pos_hint:{"center_x":0.5,"center_y":.35}
                        size_hint:None,None
                        width:"300dp"
                        OneLineAvatarIconListItem:
                            text:"for audio "
                            on_release:root.switchActive()
                            IconLeftWidget:
                                icon:"music"
                            MDSwitch:
                                id: audioSwitch
                                pos_hint:{"center_x":.9,"center_y":.5}
                    MDFillRoundFlatIconButton:
                        text:"Download"
                        icon:"download" 
                        pos_hint:{"center_x":0.5,"center_y":.25}     
                    
